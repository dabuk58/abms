<div class="abms-map-popup p-1 pt-0 w-lg">
  <div class="abms-map-popup__header">
    <div class="flex items-center justify-between">
      <div class="flex flex-col">
        <h2 class="text-lg font-semibold">{{ accommodation.name }}</h2>
        <p class="abms-map-popup__region text-xs">
          {{ accommodation.city }}, {{ accommodation.region }}
        </p>
      </div>
      <app-heart-icon
        class="abms-map-popup__favorite-icon"
        [ngClass]="{
                'abms-map-popup__favorite-icon--checked':
                  accommodation.isFavorite,
              }"
        [pTooltip]="translation.instant('login_to_like')"
        tooltipPosition="top"
        showDelay="150"
        [tooltipDisabled]="isLoggedIn"
        [filled]="accommodation.isFavorite"
        (click)="onFavorite(accommodation)"
      ></app-heart-icon>
    </div>
  </div>
  <div class="abms-map-popup__content">
    <div class="abms-map-popup__result-content gap-4">
      <img class="rounded-md w-full" [src]="accommodation.images[0]" />
      <div class="flex flex-col justify-between">
        <p class="abms-map-popup__description">
          {{ accommodation.description }}
        </p>
        <div class="abms-map-popup__price mt-0 font-semibold">
          {{ accommodation.pricePerNight + "z≈Ç" }}
          <span class="text-base">{{ "per_night" | translate }}</span>
        </div>
      </div>
      <div class="flex flex-col justify-between">
        <div class="flex flex-col gap-1 items-center">
          @if(accommodation.rating){
          <p>{{ "average_rating" | translate }}</p>
          <div class="flex gap-2 items-center">
            <p>{{ accommodation.rating }} / 10</p>
            <i class="abms-map-popup__rating-star text-xl bi bi-star-fill"></i>
          </div>
          } @else {
          <p>{{ "no_reviews" | translate }}</p>
          }
        </div>
        <p-button
          class="abms-advanced-filters__search-button"
          [label]="translation.instant('details')"
          icon="pi pi-angle-right"
          iconPos="right"
          [outlined]="false"
          type="submit"
          size="small"
          (onClick)="onDetails(accommodation.id)"
        />
      </div>
    </div>
  </div>
</div>
