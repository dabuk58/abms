<div class="abms-search-results flex flex-col gap-4">
  @for(accommodation of accommodations; track accommodation){
  <p-panel>
    <ng-template pTemplate="header">
      <div class="flex items-center justify-between">
        <h2 class="text-lg font-semibold">{{ accommodation.name }}</h2>
        <app-heart-icon
          class="abms-search-results__favorite-icon"
          [ngClass]="{
            'abms-search-results__favorite-icon--checked':
              accommodation.isFavorite,
          }"
          [pTooltip]="translation.instant('login_to_like')"
          tooltipPosition="top"
          showDelay="150"
          [tooltipDisabled]="isLoggedIn"
          [filled]="accommodation.isFavorite"
          (click)="onFavorite(accommodation)"
        ></app-heart-icon>
      </div>
    </ng-template>
    <ng-template pTemplate="content">
      <div class="abms-search-results__result-content gap-4">
        <img class="rounded-md w-full" [src]="accommodation.images[0]" />
        <div class="flex flex-col justify-between">
          <div class="flex flex-col gap-1">
            <p class="text-lg font-medium">
              {{ accommodation.city }}
            </p>
            <p class="abms-search-results__region text-xs">
              {{ accommodation.region }}
            </p>
          </div>
          <p>{{ accommodation.description }}</p>
          <div class="abms-search-results__price mt-0 font-semibold">
            {{ accommodation.pricePerNight + "z≈Ç" }}
            <span class="text-base">{{ "per_night" | translate }}</span>
          </div>
        </div>
        <div class="flex flex-col justify-between">
          <div class="flex flex-col gap-1 items-center">
            @if(accommodation.rating){
            <p>{{ "average_rating" | translate }}</p>
            <div class="flex gap-2 items-center">
              <p>{{ accommodation.rating }} / 10</p>
              <i
                class="abms-search-results__rating-star text-xl bi bi-star-fill"
              ></i>
            </div>
            } @else {
            <p>{{ "no_reviews" | translate }}</p>
            }
          </div>
          <p-button
            [label]="translation.instant('details')"
            icon="pi pi-angle-right"
            iconPos="right"
            type="submit"
            size="small"
            (onClick)="onDetails(accommodation.id)"
          />
        </div>
      </div>
    </ng-template>
  </p-panel>
  }
</div>
