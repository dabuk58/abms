<p-panel>
  <ng-template pTemplate="header">
    <p class="font-bold">
      {{ "filters" | translate }}
    </p>
  </ng-template>
  <ng-template pTemplate="content">
    <form [formGroup]="form" class="flex flex-col gap-6">
      <div class="flex flex-col gap-4">
        <p>
          {{ "price_per_night" | translate }}
        </p>
        <div class="grid grid-cols-[1fr_auto_1fr] gap-2 place-items-center">
          <p-inputNumber
            inputStyleClass="w-22 h-8 text-center"
            formControlName="minPrice"
            mode="currency"
            currency="PLN"
            locale="pl-PL"
            inputId="integeronly"
            [maxFractionDigits]="0"
            [readonly]="true"
          ></p-inputNumber>
          <p>-</p>
          <p-inputNumber
            inputStyleClass="w-22 h-8 text-center"
            formControlName="maxPrice"
            mode="currency"
            currency="PLN"
            locale="pl-PL"
            inputId="integeronly"
            [maxFractionDigits]="0"
            [readonly]="true"
          ></p-inputNumber>
        </div>
        <p-slider
          class="ml-2 mt-2"
          [min]="1"
          [max]="5000"
          formControlName="priceRange"
          [range]="true"
          [animate]="true"
          (onChange)="updatePriceInputs($event)"
        ></p-slider>
      </div>
      <div class="flex flex-col gap-4">
        <p>
          {{ "minimal_rating" | translate }}
        </p>
        <p-rating
          [stars]="10"
          [cancel]="false"
          formControlName="rating"
          class="self-center"
        ></p-rating>
      </div>
      <div class="flex flex-col gap-4">
        <p>
          {{ "amenities" | translate }}
        </p>
        @for(amenity of amenitiesOptions; track amenity){
        <p-checkbox
          formControlName="amenities"
          [value]="amenity"
          [label]="translation.instant(amenity)"
          labelStyleClass="text-sm"
        ></p-checkbox>
        }
      </div>
      <div class="flex justify-between gap-2">
        <p-button
          [label]="translation.instant('clear')"
          icon="pi pi-times"
          iconPos="right"
          type="submit"
          size="small"
          [outlined]="true"
          (onClick)="clearFilters()"
          styleClass="w-[6.75rem] gap-0"
        />
        <p-button
          [label]="translation.instant('search')"
          icon="pi pi-search"
          iconPos="right"
          type="submit"
          size="small"
          (onClick)="onSearch()"
          styleClass="w-[6.75rem] gap-0"
        />
      </div>
    </form>
  </ng-template>
</p-panel>
